;---------------------------------------------------------------------
;女子高救出イベント

@EVENT_BATTLE_SITUATION_2
PRINTFORML どうやら近くの女子高に大型촉수 생물が出現し、大暴れしているらしい。
PRINTFORML 自衛隊が出動したが、生徒たちは校舎の中に取り残されたままだという。
PRINTFORML 放っておけば多数の犠牲者が出るだろう。
SETCOLORBYNAME HOTPINK
PRINTFORML 校舎全体が촉수に侵蝕され、中心部への進入も困難を極めるようだが……
RESETCOLOR

PRINTL 
PRINTFORML 危険を承知で助けに行くべきだろうか？

@EVENT_BATTLE_RESCUE_2
PRINTFORML たとえ危険が伴うとしても、この事態を見過ごすわけにはいかない。
PRINTFORML %PRINT_CALLNAME(TARGET)%は意を決して現場に向かうことにした……

@EVENT_BATTLE_ABANDON_2
PRINTFORML 不確定要素も多く、万全でもない状態で촉수 생물と戦うのは危険すぎる。
PRINTFORML 状況から判断した結果、%PRINT_CALLNAME(TARGET)%は助けに行かないという決断を下した……
;ニュース記事に(失敗時使い回し)
if !FLAG:60
	FLAG:60=100000+FLAG:45
endif


@EVENT_BATTLE_EXEC_2
PRINTFORML 襲撃されたという女子高までやってくると、既に特殊部隊が突入路を確保してくれていた。
PRINTFORML 夥しい数の雑魚촉수の死体で校庭が埋め尽くされ、
PRINTFORML 周囲は返り血と粘液と弾痕で酷い有様だ。
PRINTFORML 自衛隊員に襲いかかっていた雑魚촉수を叩き伏せ、%PRINT_CALLNAME(TARGET)%は状況の悪さに眉をしかめた。
PRINTW 
PRINTFORML このまま雑魚촉수を倒し続けても埒が明かない。
PRINTFORML 보스を叩かなければ収拾が付かないだろう……そう判断して外部の制圧を自衛隊に任せ、
PRINTFORML %PRINT_CALLNAME(TARGET)%は校舎の内部へと踏み込むことにする。
PRINTW
PRINTFORML 学校内部は촉수の浸食により、建物と肉とがグロテスクに融合した촉수の巣になりつつあった。
PRINTFORML 本来ならコツコツと足音を反響するはずの床は不気味な臓器に覆われてブヨブヨと変形し、
PRINTFORML 天井からは得体の知れない肉腫が垂れ下っている。
PRINTFORML すると突然壁から촉수が伸びてきて、%PRINT_CALLNAME(TARGET)%を捕まえようとしてきた！
PRINTW 
PRINTL どうする？
PRINTL 　[0]촉수を薙ぎ払う　[1]咄嗟に避ける　[2]動きを見極める
PRINTL 
$INPUT_LOOP_2_1
INPUT
IF RESULT == 0
	LOCAL = BASE:공격 + BASE:방어
	IF LOCAL >= 250
		PRINTFORML %PRINT_CALLNAME(TARGET)%が迫りくる촉수を薙ぎ払うと、촉수はたちまち細切れになった。
		PRINTFORML 分かってはいたが、探索は簡単にはいかないようだ。
		PRINTW 
	ELSE
		PRINTFORML %PRINT_CALLNAME(TARGET)%は迫りくる촉수を薙ぎ払おうとしたが力負けしてしまい、
		PRINTFORML 絡みつかれてしまった！
		PRINTFORML 촉수が胸や腰を撫でまわし、股間にも伸びて先端を擦りつけてくる。
		PRINTFORML 何とか촉수を振り解いた%PRINT_CALLNAME(TARGET)%だが、全身を粘液まみれにされてしまった。
		PRINTW 
		LOCAL = MAX(BASE:성내성 / 10, 10) + RAND:3
		BASE:성내성 = MAX(BASE:성내성 - LOCAL, 0)
		PRINTFORML 　성내성が{LOCAL}減少した！
		PRINTW 
	ENDIF
ELSEIF RESULT == 1
	LOCAL = BASE:방어 + BASE:민첩
	IF LOCAL >= 250
		PRINTFORML %PRINT_CALLNAME(TARGET)%は咄嗟に촉수から身を躱わした。
		PRINTFORML 分かってはいたが、探索は簡単にはいかないようだ。
		PRINTW 
	ELSE
		PRINTFORML %PRINT_CALLNAME(TARGET)%は촉수から身を躱わそうとしたが間に合わず、
		PRINTFORML 絡みつかれてしまった！
		PRINTFORML 촉수が胸や腰を撫でまわし、股間にも伸びて先端を擦りつけてくる。
		PRINTFORML 何とか촉수を振り解いた%PRINT_CALLNAME(TARGET)%だが、全身を粘液まみれにされてしまった。
		PRINTW 
		LOCAL = MAX(BASE:성내성 / 10, 10) + RAND:3
		BASE:성내성 = MAX(BASE:성내성 - LOCAL, 0)
		PRINTFORML 　성내성が{LOCAL}減少した！
		PRINTW 
	ENDIF
ELSEIF RESULT == 2
	LOCAL = BASE:지성
	IF LOCAL >= 110
		PRINTFORML %PRINT_CALLNAME(TARGET)%は촉수の動きを見極め、回避することに成功した。
		PRINTFORML 分かってはいたが、探索は簡単にはいかないようだ。
		PRINTW 
	ELSE
		PRINTFORML %PRINT_CALLNAME(TARGET)%は촉수の動きを見極めようとしたが動きに反応しきれず、
		PRINTFORML 絡みつかれてしまった！
		PRINTFORML 촉수が胸や腰を撫でまわし、股間にも伸びて先端を擦りつけてくる。
		PRINTFORML 何とか촉수を振り解いた%PRINT_CALLNAME(TARGET)%だが、全身を粘液まみれにされてしまった。
		PRINTW 
		LOCAL = MAX(BASE:성내성 / 10, 10) + RAND:3
		BASE:성내성 = MAX(BASE:성내성 - LOCAL, 0)
		PRINTFORML 　성내성が{LOCAL}減少した！
		PRINTW 
	ENDIF
ELSE
	GOTO INPUT_LOOP_2_1
ENDIF
PRINTFORML %PRINT_CALLNAME(TARGET)%は警戒を怠らずに奥へと進んでいく……
PRINTW 
PRINTFORML 途中何度か雑魚촉수と遭遇して戦いながら、魔境と化した校内を進む。
PRINTFORML すると壁際から「誰か…」という声がしたので振り返ると、
LOCAL = RAND:7
IF LOCAL == 7
	PRINT 捕まってしまった自衛隊員らしき女性が
	LOCALS = 女性
ELSEIF LOCAL == 6
	PRINT 授業参観に来ていた保護者らしき女性が
	LOCALS = 女性
ELSEIF LOCAL == 5
	PRINT 眼鏡を掛けた教員らしき女性が
	LOCALS = 女性
ELSEIF LOCAL == 4
	PRINT 凛々しい見た目の教員らしき女性が
	LOCALS = 女性
ELSEIF LOCAL == 3
	PRINT 地味な見た目の教員らしき女性が
	LOCALS = 女性
ELSEIF LOCAL == 2
	PRINT 체육복とニーソックス姿の少女が
	LOCALS = 少女
ELSEIF LOCAL == 1
	PRINT 風紀委員の腕章を付けた制服の少女が
	LOCALS = 少女
ELSE
	PRINT 派手な악세서리を付けた金髪の制服少女が
	LOCALS = 少女
ENDIF
PRINTFORML 촉수に손발を取り込まれて、
PRINTFORML まるで磔にされたような状態で犯されていた。
LOCAL:1 = RAND:2
IF LOCAL:1 == 0
	IF LOCAL == 7
		PRINT 迷彩柄のズボンは脱がされ
	ELSEIF LOCAL == 6 || LOCAL == 5 || LOCAL == 4 || LOCAL == 3
		PRINT ストッキングを破られて
	ELSEIF LOCAL == 2
		PRINT 가슴を突き出すような体勢で
	ELSE
		PRINT スカートを捲り上げられ
	ENDIF
	PRINTFORML 촉수が股間に突き立てられ、卑猥な水音を立てている。
ELSE
	PRINTW 
	PRINTFORML 風船のように膨らんだ腹部がピストンのストロークのたびに揺れ、
	PRINTFORML 半透明の壺状の촉수が両胸の乳房から母乳を搾り取っていた。
	PRINTW 
	PRINTFORML おそらく%LOCALS%はもう、임신している。
	PRINTFORML 手遅れという言葉が%PRINT_CALLNAME(TARGET)%の脳裏をよぎったとき、
	PRINTFORML 虫の息の%LOCALS%と目が合った。
ENDIF
PRINTW 
PRINTFORML %LOCALS%はこちらに気づくと、自分のことはいいから奥にいる生徒たちを助けてくれと懇願してきた。
PRINTFORML 공포と快楽と고통に尊厳を踏みにじられながらも、気丈にも他人の心配をする様が胸を打つ。
PRINTFORML 早く…皆を…と声を振り絞った%LOCALS%は、歯を食いしばって凌辱に耐え続けている。
PRINTFORML すぐに後続の自衛隊員が駆けつけてくれるだろうが、
PRINTFORML このまま放っておいたら%LOCALS%が保たないかもしれない……
PRINTW 
PRINTL どうする？
PRINTFORML 　[0]先を急ぐ　[1]%LOCALS%を助け出す
PRINTL 
$INPUT_LOOP_1
INPUT
IF RESULT == 0
	PRINTFORML 今はこの悪夢を早く終わらせることのほうが先決だ。
	PRINTFORML %PRINT_CALLNAME(TARGET)%は%LOCALS%に謝罪して、先を急いでその場を立ち去った……
	PRINTFORML 背後から聴こえ始めた悲鳴、嬌声の入り混じる絶叫が%PRINT_CALLNAME(TARGET)%の心を責め立てる……
	PRINTW 
ELSEIF RESULT == 1
	IF LOCAL:1 == 0
		PRINTFORML %PRINT_CALLNAME(TARGET)%は%LOCALS%を凌辱する촉수を止めようと掴みかかったが、
		PRINTFORML ヌメヌメとしていて動きをうまく止められない。
		PRINTFORML 為すすべなく焦る%PRINT_CALLNAME(TARGET)%の目の前で촉수の動きが速くなっていき、
		PRINTFORML やがて촉수は%LOCALS%の胎内に溢れんばかりの白濁液を注ぎ込んだ。
		PRINTW 
		PRINTFORML 悪戦苦闘の末に何とか%LOCALS%を助け出すことに成功したものの、
		PRINTFORML %LOCALS%は既に十数回も中出しされてしまっており、疲れ果てて기절してしまっていた。
		PRINTFORML 遅れてやってきた自衛隊の救援部隊に%LOCALS%を預けて先に進む%PRINT_CALLNAME(TARGET)%だったが、
		IF TALENT:주관시점 > 0
			PRINTFORML 目の前で繰り広げられた痴態に股間をじわりと濡らしてしまった……
		ELSE
			PRINTFORML 目の前で繰り広げられた痴態に股間がじわりと濡れてしまっている……
		ENDIF
	ELSE
		PRINTFORML %PRINT_CALLNAME(TARGET)%は苗床にされた%LOCALS%から촉수を引きはがそうとするが、
		PRINTFORML すでに半ばまで取り込まれてしまっており手の施しようが無かった。
		PRINTFORML すると次の瞬間、%LOCALS%の様子が急変して叫び始め、
		PRINTFORML 膨らんだ腹部が不気味に蠢き始めた。
		PRINTW 
		PRINTFORML 精液を撒き散らしながら촉수がヴァギナから引き抜かれると、
		PRINTFORML 続いて白濁交じりの大量の羊水と十数匹もの촉수の幼生が吹き出した。
		PRINTFORML 精根尽き果てぐったり項垂れる%LOCALS%の膣口からは無数のへその緒が垂れ下っており、
		PRINTFORML %PRINT_CALLNAME(TARGET)%は茫然と足元の水たまりに蠢く幼生たちを見つめるしかなかった。
		PRINTW 
		PRINTFORML 遅れてやってきた自衛隊の衛生班に%LOCALS%を預けて先に進む%PRINT_CALLNAME(TARGET)%だったが、
		IF TALENT:주관시점 > 0
			IF ISMALE()
				;#region
				PRINTFORML 目の前で繰り広げられた異種出産の様子に股間をじわりと疼かせてしまった……
				;#endregion
			ELSE 
				PRINTFORML 目の前で繰り広げられた異種出産の様子に股間をじわりと濡らしてしまった……
			ENDIF
		ELSE
			IF ISMALE()
				;#region
				PRINTFORML 目の前で繰り広げられた異種出産の様子に股間がじわりと疼かせてしまっている……
				;#endregion
			ELSE 
				PRINTFORML 目の前で繰り広げられた異種出産の様子に股間がじわりと濡らしてしまっている……
			ENDIF
		ENDIF
	ENDIF
	PRINTW 
	LOCAL = MAX(BASE:성내성 / 4, 20) + RAND:6
	BASE:성내성 = MAX(BASE:성내성 - LOCAL, 0)
	FLAG:853 += 1
	PRINTFORML 　인기도가 1 상승했다!
	PRINTFORML 　성내성が{LOCAL}減少した！
	PRINTW 
ELSE
	GOTO INPUT_LOOP_1
ENDIF
PRINTFORML さらに奥へと進んでいくと、大きく開けた場所に出た。
IF RAND:2 == 0
	LOCALS=体育館
	PRINTFORML 元は体育館だったであろうその場所には多くの生徒たちが寄り集まっており、
	PRINTFORML 互いを庇い合って何とか凌いでいるようだ。
	PRINTDATAL
	DATAFORM まだ無事な者も多いが、雑魚촉수に襲われてしまっている少女の姿が目立つ。
	DATAFORM 少女らだけで촉수を防げるはずもなく、凌辱の宴が始まるのも時間の問題だろう。
	ENDDATA
ELSE
	LOCALS=礼拝堂
	PRINTFORML おそらく礼拝堂なのだろうか、
	PRINTFORML 神聖なステンドグラスやオルガンの周囲に這いまわる異形の촉수が冒涜的だ。
	PRINTDATAL
	DATAFORM 見れば多数の기절した生徒があちこちに倒れている。
	DATAFORM ほとんどの生徒は意識を失い、雑魚촉수に組み伏せられつつある。
	ENDDATA
ENDIF

PRINTW 
PRINTFORML 生存者を助けようと%PRINT_CALLNAME(TARGET)%が%LOCALS%に踏み込むと、
PRINTFORML 目の前に超重量の物体が躍り出てきた。
PRINTFORML おそらくコイツが親玉……今回の事件の元凶だろう。
PRINTFORML 邪悪な怪物の首魁を前に、%PRINT_CALLNAME(TARGET)%は戦闘態勢を取った！
PRINTW 

PRINTFORML （救援イベント中は撤退できません！　１５ターン耐えればミッション成功です！）
PRINTW 
DRAWLINE

턴상한=15
CALL ADDBATTLESITUATION("撤退不可,耐久戦,市民なし,レイプなし")

@EVENT_BATTLE_MISSION_CHECKER_2
	;追加ミッションの達成判定(1で達成、0で失敗)
	;負けなかったら達成の場合
	IF TFLAG:98 == 2
		RETURN 0
	ELSE
		RETURN 1
	ENDIF


@EVENT_BATTLE_SUCCESS_2
	PRINTFORML %PRINT_CALLNAME(TARGET)%の活躍により、多数の生存者を助け出すことができた。
	PRINTFORML 多くはまだ年端も行かぬ少女たちであり、
	PRINTFORML 未来がこんな事件で閉ざされてしまうことなどあってはならないのだ。
	PRINTW 
	PRINTFORML 精一杯の感謝の言葉と共に手を振る少女たちに%PRINT_CALLNAME(TARGET)%は頬笑みを返す。
	PRINTFORML 彼女らが失ったものは大きい。だが、それでもきっと立ち直って強く生きていくだろう。
	PRINTFORML なぜなら少女たちはきっと、촉수と戦う%PRINT_CALLNAME(TARGET)%の姿を一生忘れないだろうから……
	PRINTW 
	PRINTFORML 　인기도가 3 상승했다!
	PRINTFORML 　報酬として政府から$5000入手した！
	FLAG:853 += 3
	MONEY += 5000
	;ニュース記事に
	Sif !FLAG:60
		FLAG:60=110000+FLAG:45

@EVENT_BATTLE_FAILURE_2
	;;유폐されてはいないがミッションには失敗した
	;IF TFLAG:98 !=2
	;	PRINTFORML 
	;;負けた
	;ELSE
	;	PRINTFORML %PRINT_CALLNAME(TARGET)%が敗北したことで作戦は失敗し、攫われた被害者の行方も分からなくなってしまった。
	;ENDIF
	PRINTFORML %PRINT_CALLNAME(TARGET)%が敗北したことで作戦は失敗し、学校は壊滅した。
	PRINTFORML いかに特殊装備を身に付けた自衛隊といえども巨大촉수の相手が務まるはずはなく、
	PRINTFORML 多数の生存者とともに女子高は汚染区域として放棄された……
	PRINTW 
	PRINTFORML 　救出ミッションに失敗しました……
	;ニュース記事に
	Sif !FLAG:60
		FLAG:60=100000+(TFLAG:98==0 ? 0 # 20000)+FLAG:45


@EVENT_BATTLE_FLASHNEWS_2(ARG)
;ミッション成功
IF ARG==1
	RESULTS'="お手柄！ 女子高襲う촉수 생물を撃退、可憐な魔法少女に女生徒ら感謝の声"
;ミッション失敗
ELSEIF ARG==0
	RESULTS'="女子高が촉수 생물の襲撃で壊滅、女生徒ら多数残されたまま汚染区域に認定へ…"
;ミッション以前に負けて유폐された(任意、勝敗とミッション成功条件が異なる戦闘限定)
ELSEIF ARG==-1
	RESULTS'=""
ENDIF
