;**********************************************************
;자위 관련 처리

;야간 자위
@SELF_NIGHT
VARSET LOCAL
SIF TIME != 1
	RETURN
;초심이 있을 경우 어느 한 쪽의 감각이 3 이상이어야 자위한다
SIF TALENT:초심 > 0 && ABL:Ｃ감각 < 3 && ABL:Ｖ감각 < 3 && ABL:Ａ감각 < 3 && ABL:Ｂ감각 < 3 && ABL:촉수중독 < 3
	RETURN

LOCAL:2 = TARGET
FOR LOCAL, 1, CHARANUM
	;파티 외에는 제외
	SIF CFLAG:LOCAL:999 == 0
		CONTINUE
	;능동적으로 움직일 수 없는 경우에는 제외
	SIF TALENT:LOCAL:번식자루 > 0 || TALENT:LOCAL:사지결손 > 0
		CONTINUE

	TARGET = LOCAL

	;캐릭터가 생존하지 않았다면 발생하지 않는다
	SIF CFLAG:0 != 0
		CONTINUE

	;처녀가 아니며, 동시에 교제상대가 있는 경우 자위하기 어렵다
	SIF TALENT:교제상대 >= 2 && TALENT:교제상대 <= 4 && TALENT:처녀 < 1 && RAND:4 != 0
		CONTINUE
	;자위 확률 판정치를 초기화
	LOCAL:1 = 0
	;욕망을 본다
	LOCAL:1 += ABL:욕망 * 5
	;촉수중독을 본다
	LOCAL:1 += ABL:촉수중독 * 2
	;자위중독을 본다
	IF ABL:자위중독 >= 5
		LOCAL:1 += 35
	ELSEIF ABL:자위중독 == 4
		LOCAL:1 += 30
	ELSEIF ABL:자위중독 == 3
		LOCAL:1 += 25
	ELSEIF ABL:자위중독 == 2
		LOCAL:1 += 20
	ELSEIF ABL:자위중독 == 1
		LOCAL:1 += 15
	ENDIF
	IF RAND:100 < LOCAL:1
		;지문:야간 자위
		SIF LOCAL:3 == 0
			DRAWLINE
		CFLAG:242 = 1
		CALL MESSAGE_SELF_NIGHT
		CALL SELF_KIND, TARGET, 0
		CALL _ABLUP,0
		CFLAG:242 = 0
		PRINTW 
		VARSET PALAM
		LOCAL:3 = 1
	ENDIF
NEXT
TARGET = LOCAL:2


;전투 후 자위
@SELF_BATTLEEND, ARG
CALL SELF_CHECK, ARG
IF RESULT == 1
	;지문: 전투 후 자위
	CALL MESSAGE_SELF_BATTLEEND
	CALL SELF_KIND, ARG, 1
	CALL _ABLUP,0
ENDIF


;----------------------------------------------------------
;자위 여부 체크
@SELF_CHECK, ARG

LOCAL = 0
LOCAL:1 = 0
LOCAL:2 = 0

;욕정의 값을 기본으로 한다
IF PALAM:ARG:욕정 == 0
	LOCAL = 0
ELSEIF PALAM:ARG:욕정 < 100
	LOCAL = 1
ELSEIF PALAM:ARG:욕정 < 300
	LOCAL = 2
ELSEIF PALAM:ARG:욕정 < 600
	LOCAL = 4
ELSEIF PALAM:ARG:욕정 < 1500
	LOCAL = 6
ELSEIF PALAM:ARG:욕정 < 3000
	LOCAL = 8
ELSEIF PALAM:ARG:욕정 < 6000
	LOCAL = 10
ELSEIF PALAM:ARG:욕정 < 10000
	LOCAL = 12
ELSEIF PALAM:ARG:욕정 < 30000
	LOCAL = 15
ELSEIF PALAM:ARG:욕정 < 60000
	LOCAL = 18
ELSEIF PALAM:ARG:욕정 < 150000
	LOCAL = 21
ELSEIF PALAM:ARG:욕정 < 300000
	LOCAL = 25
ELSE
	LOCAL = 30
ENDIF

;보정
;욕망
IF ABL:ARG:욕망 == 0
	TIMES LOCAL, 0.25
ELSEIF ABL:ARG:욕망 == 1
	TIMES LOCAL, 0.50
ELSEIF ABL:ARG:욕망 == 2
	TIMES LOCAL, 0.75
ELSEIF ABL:ARG:욕망 == 3
	TIMES LOCAL, 1.00
ELSEIF ABL:ARG:욕망 == 4
	TIMES LOCAL, 1.25
ELSEIF ABL:ARG:욕망 >= 5
	TIMES LOCAL, 1.50
ENDIF

;노출벽
IF ABL:ARG:노출벽 == 0
	TIMES LOCAL, 0.25
ELSEIF ABL:ARG:노출벽 == 1
	TIMES LOCAL, 0.50
ELSEIF ABL:ARG:노출벽 == 2
	TIMES LOCAL, 0.75
ELSEIF ABL:ARG:노출벽 == 3
	TIMES LOCAL, 1.00
ELSEIF ABL:ARG:노출벽 == 4
	TIMES LOCAL, 1.25
ELSEIF ABL:ARG:노출벽 >= 5
	TIMES LOCAL, 1.50
ENDIF

;자위중독
IF ABL:ARG:자위중독 == 1
	TIMES LOCAL, 1.25
ELSEIF ABL:ARG:자위중독 == 2
	TIMES LOCAL, 1.50
ELSEIF ABL:ARG:자위중독 == 3
	TIMES LOCAL, 2.00
ELSEIF ABL:ARG:자위중독 == 4
	TIMES LOCAL, 2.50
ELSEIF ABL:ARG:자위중독 >= 5
	TIMES LOCAL, 4.00
ENDIF

;음란
SIF TALENT:ARG:음란 == 1
	TIMES LOCAL, 2.00

;랜덤성 부여
LOCAL:1 = RAND:100
IF LOCAL:1 < 20
	TIMES LOCAL, 0.80
ELSEIF LOCAL:1 < 40
	TIMES LOCAL, 0.90
ELSEIF LOCAL:1 < 60
	TIMES LOCAL, 1.00
ELSEIF LOCAL:1 < 80
	TIMES LOCAL, 1.10
ELSE
	TIMES LOCAL, 1.20
ENDIF

;일정치 이상으로 자위를 한다
IF LOCAL >= 15
	LOCAL:2 = 1
ENDIF
RETURN LOCAL:2

;----------------------------------------------------------
;자위의 종류를 결정한다
@SELF_KIND, ARG, ARG:1
#DIM Ｖ자위가능
#DIM Ａ자위가능

LOCAL:0 = 0

;절정 회수 첫 번째 리셋
VARSET NOWEX

;음○계의 소질이 있으면 그것을 우선
IF TALENT:ARG:음호 > 0 && RAND:3 == 0 && ISFEMALE(ARG)
	CALL SELF_V, ARG, ARG:1
ELSEIF TALENT:ARG:음고 > 0 && RAND:3 == 0
	CALL SELF_A, ARG, ARG:1
ELSEIF TALENT:ARG:음유 > 0 && RAND:3 == 0
	CALL SELF_B, ARG, ARG:1
ELSEIF TALENT:ARG:음핵 > 0 && RAND:3 == 0
	CALL SELF_N, ARG, ARG:1
ENDIF

;추가로 자위가 발생했을 경우에 대비해 2번째 리셋
VARSET NOWEX

;Ｖ감각은 1, Ａ감각은 2 이상이라면 대응 자위가 가능하다
SIF ABL:ARG:Ｖ감각 >= 1
	Ｖ자위가능 = 1
SIF ABL:ARG:Ａ감각 > 1
	Ａ자위가능 = 1

IF Ｖ자위가능 == 0 && Ａ자위가능 == 0
	LOCAL:0 = RAND:100
	IF LOCAL:0 < 50
		CALL SELF_N, ARG, ARG:1
	ELSE
		CALL SELF_B, ARG, ARG:1
	ENDIF
ELSEIF Ｖ자위가능 == 1
	LOCAL:0 = RAND:99
	IF LOCAL:0 < 33
		CALL SELF_N, ARG, ARG:1
	ELSEIF LOCAL:0 < 66 && ISFEMALE(ARG)
		CALL SELF_V, ARG, ARG:1
	ELSE
		CALL SELF_B, ARG, ARG:1
	ENDIF
ELSEIF Ａ자위가능 == 1
	LOCAL:0 = RAND:99
	IF LOCAL:0 < 33
		CALL SELF_N, ARG, ARG:1
	ELSEIF LOCAL:0 < 66
		CALL SELF_B, ARG, ARG:1
	ELSE
		CALL SELF_A, ARG, ARG:1
	ENDIF
ELSEIF Ｖ자위가능 == 1 && Ａ자위가능 == 1
	LOCAL:0 = RAND:100
	IF LOCAL:0 < 25
		CALL SELF_N, ARG, ARG:1
	ELSEIF LOCAL:0 < 50
		CALL SELF_B, ARG, ARG:1
	ELSEIF LOCAL:0 < 75 && ISFEMALE(ARG)
		CALL SELF_V, ARG, ARG:1
	ELSE
		CALL SELF_A, ARG, ARG:1
	ENDIF
ENDIF

;----------------------------------------------------------
;보통 자위
@SELF_N, ARG, ARG:1


;BASE값의 명시적 초기화
REPEAT 12
	LOCAL:COUNT = 0
REND

;BASE
EXP:ARG:자위경험 += 1
;쾌Ｃ
IF ABL:ARG:Ｃ감각 == 0
	LOCAL:0 = 200
ELSEIF ABL:ARG:Ｃ감각 == 1
	LOCAL:0 = 1000
ELSEIF ABL:ARG:Ｃ감각 == 2
	LOCAL:0 = 2000
ELSEIF ABL:ARG:Ｃ감각 == 3
	LOCAL:0 = 4000
ELSEIF ABL:ARG:Ｃ감각 == 4
	LOCAL:0 = 10000
ELSEIF ABL:ARG:Ｃ감각 >= 5
	LOCAL:0 = 20000
ENDIF

;쾌Ｂ
IF ABL:ARG:Ｂ감각 == 0
	LOCAL:3 = 200
ELSEIF ABL:ARG:Ｂ감각 == 1
	LOCAL:3 = 400
ELSEIF ABL:ARG:Ｂ감각 == 2
	LOCAL:3 = 1000
ELSEIF ABL:ARG:Ｂ감각 == 3
	LOCAL:3 = 2000
ELSEIF ABL:ARG:Ｂ감각 == 4
	LOCAL:3 = 4000
ELSEIF ABL:ARG:Ｂ감각 >= 5
	LOCAL:3 = 10000
ENDIF

;처녀가 아니라면 V도 사용한다
IF TALENT:ARG:처녀 < 1 && ISFEMALE(ARG)
	EXP:ARG:Ｖ경험 += 1
	IF ABL:ARG:Ｖ감각 == 0
		LOCAL:1 = 200
	ELSEIF ABL:ARG:Ｖ감각 == 1
		LOCAL:1 = 400
	ELSEIF ABL:ARG:Ｖ감각 == 2
		LOCAL:1 = 1000
	ELSEIF ABL:ARG:Ｖ감각 == 3
		LOCAL:1 = 4000
	ELSEIF ABL:ARG:Ｖ감각 == 4
		LOCAL:1 = 10000
	ELSEIF ABL:ARG:Ｖ감각 >= 5
		LOCAL:1 = 20000
	ENDIF
ENDIF

;기교의 값에 응해 쾌감도의 보너스
IF ABL:ARG:기교 == 0
ELSEIF ABL:ARG:기교 == 1
ELSEIF ABL:ARG:기교 == 2
	TIMES LOCAL:0, 1.10
	TIMES LOCAL:1, 1.10
	TIMES LOCAL:3, 1.10
ELSEIF ABL:ARG:기교 == 3
	TIMES LOCAL:0, 1.25
	TIMES LOCAL:1, 1.25
	TIMES LOCAL:3, 1.25
ELSEIF ABL:ARG:기교 == 4
	TIMES LOCAL:0, 1.50
	TIMES LOCAL:1, 1.50
	TIMES LOCAL:3, 1.50
ELSEIF ABL:ARG:기교 >= 5
	TIMES LOCAL:0, 2.00
	TIMES LOCAL:1, 2.00
	TIMES LOCAL:3, 2.00
ENDIF

;메인 부위 절정 예정의 예측
CALL PALAM_VABCestimate(LOCAL,0,1,3,-1)



;지문: 보통 자위
CALL MESSAGE_SELF_N

;ARG:1 == 1 이라면 전투 중의 자위
;지문: 세뇌/흑화 캐릭터가 조작 캐릭터의 보통 자위를 봤다
SIF ENEMY_TYPE_CHECK_F("AKUOTI") == 1 && ARG:1 == 1
	CALL MESSAGE_OTHER_SELF_N

;굴복　노출벽이 높아질 수록 더 많아진다
IF ABL:ARG:노출벽 == 0
	LOCAL:8 = 50
ELSEIF ABL:ARG:노출벽 == 1
	LOCAL:8 = 100
ELSEIF ABL:ARG:노출벽 == 2
	LOCAL:8 = 200
ELSEIF ABL:ARG:노출벽 == 3
	LOCAL:8 = 500
ELSEIF ABL:ARG:노출벽 == 4
	LOCAL:8 = 1000
ELSEIF ABL:ARG:노출벽 >= 5
	LOCAL:8 = 2000
ENDIF

;치정　노출벽이 높아질 수록 더 많아진다
IF ABL:ARG:노출벽 == 0
	LOCAL:9 = 50
ELSEIF ABL:ARG:노출벽 == 1
	LOCAL:9 = 100
ELSEIF ABL:ARG:노출벽 == 2
	LOCAL:9 = 200
ELSEIF ABL:ARG:노출벽 == 3
	LOCAL:9 = 500
ELSEIF ABL:ARG:노출벽 == 4
	LOCAL:9 = 1000
ELSEIF ABL:ARG:노출벽 >= 5
	LOCAL:9 = 2000
ENDIF

;자위중독이 있으면 욕정에 보너스
IF ABL:ARG:자위중독 == 1
	LOCAL:7 = 1000
ELSEIF ABL:ARG:자위중독 == 2
	LOCAL:7 = 2000
ELSEIF ABL:ARG:자위중독 == 3
	LOCAL:7 = 5000
ELSEIF ABL:ARG:자위중독 == 4
	LOCAL:7 = 10000
ELSEIF ABL:ARG:자위중독 >= 5
	LOCAL:7 = 20000
ENDIF

;습득
;자위중독에 응해 상승
IF ABL:ARG:자위중독 == 0
	LOCAL:6 = 200
ELSEIF ABL:ARG:자위중독 == 1
	LOCAL:6 = 400
ELSEIF ABL:ARG:자위중독 == 2
	LOCAL:6 = 800
ELSEIF ABL:ARG:자위중독 == 3
	LOCAL:6 = 1000
ELSEIF ABL:ARG:자위중독 == 4
	LOCAL:6 = 2000
ELSEIF ABL:ARG:자위중독 >= 5
	LOCAL:6 = 4000
ENDIF

;체력 소비 기본값
LOCAL:12 = 150

;계산으로
CALL PALAM_CAL, LOCAL:0, LOCAL:1, LOCAL:2, LOCAL:3, LOCAL:4, LOCAL:5, LOCAL:6, LOCAL:7, LOCAL:8, LOCAL:9, LOCAL:10, LOCAL:11, LOCAL:12

;----------------------------------------------------------
;가슴 자위
@SELF_B, ARG, ARG:1

;BASE값의 명시적 초기화
REPEAT 12
	LOCAL:COUNT = 0
REND

;BASE
EXP:ARG:자위경험 += 1

;쾌Ｂ
IF ABL:ARG:Ｂ감각 == 0
	LOCAL:3 = 200
ELSEIF ABL:ARG:Ｂ감각 == 1
	LOCAL:3 = 400
ELSEIF ABL:ARG:Ｂ감각 == 2
	LOCAL:3 = 1000
ELSEIF ABL:ARG:Ｂ감각 == 3
	LOCAL:3 = 2000
ELSEIF ABL:ARG:Ｂ감각 == 4
	LOCAL:3 = 4000
ELSEIF ABL:ARG:Ｂ감각 >= 5
	LOCAL:3 = 10000
ENDIF

;기교의 값에 응해 쾌감도의 보너스
IF ABL:ARG:기교 == 0
ELSEIF ABL:ARG:기교 == 1
ELSEIF ABL:ARG:기교 == 2
	TIMES LOCAL:3, 1.10
ELSEIF ABL:ARG:기교 == 3
	TIMES LOCAL:3, 1.25
ELSEIF ABL:ARG:기교 == 4
	TIMES LOCAL:3, 1.50
ELSEIF ABL:ARG:기교 >= 5
	TIMES LOCAL:3, 2.00
ENDIF

;메인 부위 절정 예정의 예측
CALL PALAM_VABCestimate(LOCAL,3,-1)



;지문: 가슴 자위
CALL MESSAGE_SELF_B

;ARG:1 == 1 이라면 전투 중의 자위
;지문: 세뇌/흑화 캐릭터가 조작 캐릭터의 가슴 자위를 봤다
SIF ENEMY_TYPE_CHECK_F("AKUOTI") == 1 && ARG:1 == 1
	CALL MESSAGE_OTHER_SELF_B


;굴복　노출벽이 높아질 수록 더 많아진다
IF ABL:ARG:노출벽 == 0
	LOCAL:8 = 50
ELSEIF ABL:ARG:노출벽 == 1
	LOCAL:8 = 100
ELSEIF ABL:ARG:노출벽 == 2
	LOCAL:8 = 200
ELSEIF ABL:ARG:노출벽 == 3
	LOCAL:8 = 500
ELSEIF ABL:ARG:노출벽 == 4
	LOCAL:8 = 1000
ELSEIF ABL:ARG:노출벽 >= 5
	LOCAL:8 = 2000
ENDIF

;치정　노출벽이 높아질 수록 더 많아진다
IF ABL:ARG:노출벽 == 0
	LOCAL:9 = 100
ELSEIF ABL:ARG:노출벽 == 1
	LOCAL:9 = 200
ELSEIF ABL:ARG:노출벽 == 2
	LOCAL:9 = 500
ELSEIF ABL:ARG:노출벽 == 3
	LOCAL:9 = 1000
ELSEIF ABL:ARG:노출벽 == 4
	LOCAL:9 = 2000
ELSEIF ABL:ARG:노출벽 >= 5
	LOCAL:9 = 4000
ENDIF

;자위중독이 있으면 욕정에 보너스
IF ABL:ARG:자위중독 == 1
	LOCAL:7 = 1000
ELSEIF ABL:ARG:자위중독 == 2
	LOCAL:7 = 2000
ELSEIF ABL:ARG:자위중독 == 3
	LOCAL:7 = 5000
ELSEIF ABL:ARG:자위중독 == 4
	LOCAL:7 = 10000
ELSEIF ABL:ARG:자위중독 >= 5
	LOCAL:7 = 20000
ENDIF

;습득
;자위중독에 응해 상승
IF ABL:ARG:자위중독 == 0
	LOCAL:6 = 200
ELSEIF ABL:ARG:자위중독 == 1
	LOCAL:6 = 400
ELSEIF ABL:ARG:자위중독 == 2
	LOCAL:6 = 800
ELSEIF ABL:ARG:자위중독 == 3
	LOCAL:6 = 1000
ELSEIF ABL:ARG:자위중독 == 4
	LOCAL:6 = 2000
ELSEIF ABL:ARG:자위중독 >= 5
	LOCAL:6 = 4000
ENDIF

;체력 소비 기본값
LOCAL:12 = 100

;계산으로
CALL PALAM_CAL, LOCAL:0, LOCAL:1, LOCAL:2, LOCAL:3, LOCAL:4, LOCAL:5, LOCAL:6, LOCAL:7, LOCAL:8, LOCAL:9, LOCAL:10, LOCAL:11, LOCAL:12

;----------------------------------------------------------
;애널 자위
@SELF_A, ARG, ARG:1


;BASE값의 명시적 초기화
REPEAT 12
	LOCAL:COUNT = 0
REND

;BASE
EXP:ARG:자위경험 += 1
EXP:ARG:Ａ경험 += 1
;쾌Ａ
IF ABL:ARG:Ａ감각 == 2
	LOCAL:2 = 2000
ELSEIF ABL:ARG:Ａ감각 == 3
	LOCAL:2 = 4000
ELSEIF ABL:ARG:Ａ감각 == 4
	LOCAL:2 = 10000
ELSEIF ABL:ARG:Ａ감각 >= 5
	LOCAL:2 = 20000
ENDIF

;기교의 값에 응해 쾌감도의 보너스
IF ABL:ARG:기교 == 0
ELSEIF ABL:ARG:기교 == 1
ELSEIF ABL:ARG:기교 == 2
	TIMES LOCAL:2, 1.10
ELSEIF ABL:ARG:기교 == 3
	TIMES LOCAL:2, 1.25
ELSEIF ABL:ARG:기교 == 4
	TIMES LOCAL:2, 1.50
ELSEIF ABL:ARG:기교 >= 5
	TIMES LOCAL:2, 2.00
ENDIF

;메인 부위 절정 예정의 예측
CALL PALAM_VABCestimate(LOCAL,2,-1)



;지문: 애널 자위
CALL MESSAGE_SELF_A

;ARG:1 == 1 이라면 전투 중의 자위
;지문: 세뇌/흑화 캐릭터가 조작 캐릭터의 애널 자위를 봤다
SIF ENEMY_TYPE_CHECK_F("AKUOTI") == 1 && ARG:1 == 1
	CALL MESSAGE_OTHER_SELF_A


;굴복　노출벽이 높아질 수록 더 많아진다
IF ABL:ARG:노출벽 == 0
	LOCAL:8 = 100
ELSEIF ABL:ARG:노출벽 == 1
	LOCAL:8 = 200
ELSEIF ABL:ARG:노출벽 == 2
	LOCAL:8 = 500
ELSEIF ABL:ARG:노출벽 == 3
	LOCAL:8 = 1000
ELSEIF ABL:ARG:노출벽 == 4
	LOCAL:8 = 2000
ELSEIF ABL:ARG:노출벽 >= 5
	LOCAL:8 = 4000
ENDIF

;치정　노출벽이 높아질 수록 더 많아진다
IF ABL:ARG:노출벽 == 0
	LOCAL:9 = 100
ELSEIF ABL:ARG:노출벽 == 1
	LOCAL:9 = 200
ELSEIF ABL:ARG:노출벽 == 2
	LOCAL:9 = 500
ELSEIF ABL:ARG:노출벽 == 3
	LOCAL:9 = 1000
ELSEIF ABL:ARG:노출벽 == 4
	LOCAL:9 = 2000
ELSEIF ABL:ARG:노출벽 >= 5
	LOCAL:9 = 4000
ENDIF

;자위중독이 있으면 욕정에 보너스
IF ABL:ARG:자위중독 == 1
	LOCAL:7 = 1000
ELSEIF ABL:ARG:자위중독 == 2
	LOCAL:7 = 2000
ELSEIF ABL:ARG:자위중독 == 3
	LOCAL:7 = 5000
ELSEIF ABL:ARG:자위중독 == 4
	LOCAL:7 = 10000
ELSEIF ABL:ARG:자위중독 >= 5
	LOCAL:7 = 20000
ENDIF

;습득
;자위중독에 응해 상승
IF ABL:ARG:자위중독 == 0
	LOCAL:6 = 200
ELSEIF ABL:ARG:자위중독 == 1
	LOCAL:6 = 400
ELSEIF ABL:ARG:자위중독 == 2
	LOCAL:6 = 800
ELSEIF ABL:ARG:자위중독 == 3
	LOCAL:6 = 1000
ELSEIF ABL:ARG:자위중독 == 4
	LOCAL:6 = 2000
ELSEIF ABL:ARG:자위중독 >= 5
	LOCAL:6 = 4000
ENDIF

;체력 소비 기본값
LOCAL:12 = 150

;계산으로
CALL PALAM_CAL, LOCAL:0, LOCAL:1, LOCAL:2, LOCAL:3, LOCAL:4, LOCAL:5, LOCAL:6, LOCAL:7, LOCAL:8, LOCAL:9, LOCAL:10, LOCAL:11, LOCAL:12

;----------------------------------------------------------
;질 자위
@SELF_V, ARG, ARG:1


;BASE값의 명시적 초기화
REPEAT 12
	LOCAL:COUNT = 0
REND

;BASE
EXP:ARG:자위경험 += 1
;쾌Ｖ	처녀라면 감소, 경험 증가 없음
IF TALENT:ARG:처녀 >= 1
	IF ABL:ARG:Ｖ감각 == 0
		LOCAL:1 = 100
	ELSEIF ABL:ARG:Ｖ감각 == 1
		LOCAL:1 = 200
	ELSEIF ABL:ARG:Ｖ감각 == 2
		LOCAL:1 = 500
	ELSEIF ABL:ARG:Ｖ감각 == 3
		LOCAL:1 = 2000
	ELSEIF ABL:ARG:Ｖ감각 == 4
		LOCAL:1 = 4000
	ELSEIF ABL:ARG:Ｖ감각 >= 5
		LOCAL:1 = 10000
	ENDIF
;양 구멍일 경우 조금 내린다
ELSEIF TALENT:ARG:음고 > 0
	EXP:ARG:Ｖ경험 += 1
	IF ABL:ARG:Ｖ감각 == 0
		LOCAL:1 = 200
	ELSEIF ABL:ARG:Ｖ감각 == 1
		LOCAL:1 = 400
	ELSEIF ABL:ARG:Ｖ감각 == 2
		LOCAL:1 = 1000
	ELSEIF ABL:ARG:Ｖ감각 == 3
		LOCAL:1 = 3000
	ELSEIF ABL:ARG:Ｖ감각 == 4
		LOCAL:1 = 7500
	ELSEIF ABL:ARG:Ｖ감각 >= 5
		LOCAL:1 = 15000
	ENDIF
ELSE
	EXP:ARG:Ｖ경험 += 1
	IF ABL:ARG:Ｖ감각 == 0
		LOCAL:1 = 200
	ELSEIF ABL:ARG:Ｖ감각 == 1
		LOCAL:1 = 400
	ELSEIF ABL:ARG:Ｖ감각 == 2
		LOCAL:1 = 1000
	ELSEIF ABL:ARG:Ｖ감각 == 3
		LOCAL:1 = 4000
	ELSEIF ABL:ARG:Ｖ감각 == 4
		LOCAL:1 = 10000
	ELSEIF ABL:ARG:Ｖ감각 >= 5
		LOCAL:1 = 20000
	ENDIF
ENDIF

;음고일 경우, Ａ도 사용해서 양구멍 자위로
IF TALENT:ARG:음고 > 0
	EXP:ARG:Ａ경험 += 1
	IF ABL:ARG:Ａ감각 == 2
		LOCAL:2 = 1000
	ELSEIF ABL:ARG:Ａ감각 == 3
		LOCAL:2 = 3000
	ELSEIF ABL:ARG:Ａ감각 == 4
		LOCAL:2 = 7500
	ELSEIF ABL:ARG:Ａ감각 >= 5
		LOCAL:2 = 15000
	ENDIF
ENDIF

;기교의 값에 응해 쾌감도의 보너스
IF ABL:ARG:기교 == 0
ELSEIF ABL:ARG:기교 == 1
ELSEIF ABL:ARG:기교 == 2
	TIMES LOCAL:1, 1.10
	TIMES LOCAL:2, 1.10
ELSEIF ABL:ARG:기교 == 3
	TIMES LOCAL:1, 1.25
	TIMES LOCAL:2, 1.25
ELSEIF ABL:ARG:기교 == 4
	TIMES LOCAL:1, 1.50
	TIMES LOCAL:2, 1.50
ELSEIF ABL:ARG:기교 >= 5
	TIMES LOCAL:1, 2.00
	TIMES LOCAL:2, 2.00
ENDIF

;메인 부위 절정 예정의 예측
CALL PALAM_VABCestimate(LOCAL,1,2,-1)



;지문: 질 자위
CALL MESSAGE_SELF_V

;ARG:1 == 1 이라면 전투 중의 자위
;지문: 세뇌/흑화 캐릭터가 조작 캐릭터의 질 자위를 봤다
SIF ENEMY_TYPE_CHECK_F("AKUOTI") == 1 && ARG:1 == 1
	CALL MESSAGE_OTHER_SELF_V
	

;굴복　노출벽이 높아질 수록 더 많아진다
IF ABL:ARG:노출벽 == 0
	LOCAL:8 = 50
ELSEIF ABL:ARG:노출벽 == 1
	LOCAL:8 = 100
ELSEIF ABL:ARG:노출벽 == 2
	LOCAL:8 = 200
ELSEIF ABL:ARG:노출벽 == 3
	LOCAL:8 = 500
ELSEIF ABL:ARG:노출벽 == 4
	LOCAL:8 = 1000
ELSEIF ABL:ARG:노출벽 >= 5
	LOCAL:8 = 2000
ENDIF

;치정　노출벽이 높아질 수록 더 많아진다
IF ABL:ARG:노출벽 == 0
	LOCAL:9 = 50
ELSEIF ABL:ARG:노출벽 == 1
	LOCAL:9 = 100
ELSEIF ABL:ARG:노출벽 == 2
	LOCAL:9 = 200
ELSEIF ABL:ARG:노출벽 == 3
	LOCAL:9 = 500
ELSEIF ABL:ARG:노출벽 == 4
	LOCAL:9 = 1000
ELSEIF ABL:ARG:노출벽 >= 5
	LOCAL:9 = 2000
ENDIF

;자위중독이 있으면 욕정에 보너스
IF ABL:ARG:자위중독 == 1
	LOCAL:7 = 1000
ELSEIF ABL:ARG:자위중독 == 2
	LOCAL:7 = 2000
ELSEIF ABL:ARG:자위중독 == 3
	LOCAL:7 = 5000
ELSEIF ABL:ARG:자위중독 == 4
	LOCAL:7 = 10000
ELSEIF ABL:ARG:자위중독 >= 5
	LOCAL:7 = 20000
ENDIF

;습득
;자위중독에 응해 상승
IF ABL:ARG:자위중독 == 0
	LOCAL:6 = 200
ELSEIF ABL:ARG:자위중독 == 1
	LOCAL:6 = 400
ELSEIF ABL:ARG:자위중독 == 2
	LOCAL:6 = 800
ELSEIF ABL:ARG:자위중독 == 3
	LOCAL:6 = 1000
ELSEIF ABL:ARG:자위중독 == 4
	LOCAL:6 = 2000
ELSEIF ABL:ARG:자위중독 >= 5
	LOCAL:6 = 4000
ENDIF

;체력 소비 기본값
LOCAL:12 = 150

;계산으로
CALL PALAM_CAL, LOCAL:0, LOCAL:1, LOCAL:2, LOCAL:3, LOCAL:4, LOCAL:5, LOCAL:6, LOCAL:7, LOCAL:8, LOCAL:9, LOCAL:10, LOCAL:11, LOCAL:12



